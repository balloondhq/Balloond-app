# Backend Configuration

# Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/balloond?schema=public"

# JWT
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="7d"

# OAuth - Google
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"

# OAuth - Apple
APPLE_CLIENT_ID="your-apple-client-id"
APPLE_TEAM_ID="your-apple-team-id"
APPLE_KEY_ID="your-apple-key-id"
APPLE_PRIVATE_KEY="your-apple-private-key"
APPLE_CALLBACK_URL="http://localhost:3000/auth/apple/callback"

# Server
PORT=3000
NODE_ENV=development

# AWS S3 (for image and voice message storage)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret"
AWS_S3_BUCKET="balloond-media"
AWS_REGION="us-east-1"

# Firebase Admin SDK (for push notifications)
FIREBASE_PROJECT_ID="your-firebase-project-id"
FIREBASE_CLIENT_EMAIL="your-firebase-client-email"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour-firebase-private-key\n-----END PRIVATE KEY-----"

# Stripe (for payments)
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-webhook-secret"
STRIPE_PRICE_ID_GOLD="price_gold_subscription_id"
STRIPE_PRICE_ID_GLOWING="price_glowing_subscription_id"

# Apple In-App Purchase
APPLE_IAP_SHARED_SECRET="your-apple-iap-shared-secret"
APPLE_IAP_ENVIRONMENT="sandbox" # or "production"

# Google Play Billing
GOOGLE_PLAY_PACKAGE_NAME="com.balloond.app"
GOOGLE_PLAY_SERVICE_ACCOUNT_KEY="your-google-play-service-account-key.json"

# Google Vision API (for nudity detection)
GOOGLE_VISION_API_KEY="your-google-vision-api-key"
# Or use service account credentials
GOOGLE_APPLICATION_CREDENTIALS="path/to/service-account-key.json"

# Moderation
MODERATION_AUTO_APPROVE_THRESHOLD=0.8
MODERATION_AUTO_REJECT_THRESHOLD=0.2
MAX_REPORTS_BEFORE_AUTO_BAN=5

# Redis (for caching and rate limiting)
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""

# CORS
CORS_ORIGIN="http://localhost:8081,exp://localhost:8081"

# WebSocket
WS_PORT=3001

# Email (optional - for notifications)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-specific-password"
SMTP_FROM="Balloon'd <noreply@balloond.com>"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Subscription Limits
FREE_DAILY_POPS=5
GOLD_DAILY_POPS=15
GLOWING_DAILY_POPS=999 # Essentially unlimited

# App Config
APP_NAME="Balloon'd"
APP_URL="https://balloond.com"
SUPPORT_EMAIL="support@balloond.com"
